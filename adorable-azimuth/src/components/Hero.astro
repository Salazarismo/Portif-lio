---
import MorphingText from "../islands/MorphingText.island";
interface Metric { label: string; value: string }
interface Props {
  title: string;
  subtitle?: string;
  subtitlePrefix?: string;
  subtitleMorphWords?: string[];
  subtitleSuffix?: string;
  imageAlt?: string;
  proofMetrics?: Metric[];
  ctaLabel?: string;
  ctaHref?: string;
  ctaSecondaryLabel?: string;
  ctaSecondaryHref?: string;
  microcopy?: string;
  scrollLeft?: string;
  scrollRight?: string;
  scrollHref?: string;
}
const {
  title,
  subtitle,
  subtitlePrefix = "",
  subtitleMorphWords = [],
  subtitleSuffix = "",
  ctaLabel = 'Entrar em contato',
  ctaHref = '#contact',
  ctaSecondaryLabel = '',
  ctaSecondaryHref = '',
  microcopy = '',
  scrollLeft = '(Trabalhos selecionados)',
  scrollRight = 'Descobrir â†“',
  scrollHref = '#projects'
} = Astro.props as Props;

const titleLines = title.split("\n").map((s) => s.trim()).filter(Boolean);
---
<section aria-labelledby="hero-title" class="nl-hero" data-anim="hero">
  <div class="nl-hero-inner">
    <h1 id="hero-title" class="nl-hero-title">
      {titleLines.map((line, idx) => (
        <Fragment>
          {line}
          {idx < titleLines.length - 1 && <br />}
        </Fragment>
      ))}
    </h1>
    {(subtitle || subtitleMorphWords.length > 0) && (
      <p class="nl-hero-subtitle" data-hero-subtitle>
        {subtitleMorphWords.length > 0 ? (
          <Fragment>
            {subtitlePrefix}<MorphingText client:load words={subtitleMorphWords} />{subtitleSuffix}
          </Fragment>
        ) : (
          subtitle
        )}
      </p>
    )}
    <div class="nl-hero-actions">
      <a class="nl-btn" href={ctaHref} data-cta>{ctaLabel}</a>
      {ctaSecondaryLabel && ctaSecondaryHref && (
        <a class="nl-btn" href={ctaSecondaryHref}>{ctaSecondaryLabel}</a>
      )}
    </div>
    {microcopy && <p data-text="ui-helper" style="margin-top: 12px">{microcopy}</p>}
    <div class="nl-hero-scroll">
      <span>{scrollLeft}</span>
      <a class="nl-nav-link" href={scrollHref}>{scrollRight}</a>
    </div>
  </div>
</section>
