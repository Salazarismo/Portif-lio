---
interface Props {
  title: string;
  problem: string;
  decision: string;
  metricLabel: string;
  metricValue: string;
  codeSnippet?: string;
  metricContext?: string;
  impact?: string;
  docHref?: string;
}
const {
  title,
  problem,
  decision,
  metricLabel,
  metricValue,
  codeSnippet = "",
  metricContext = "",
  impact = "",
  docHref = ""
} = Astro.props as Props;
import Button from "../components/ui/Button.astro";
---
<article aria-labelledby="project-title" data-project-card data-cell data-z="1" data-metric={metricValue} class="rounded-md p-4 border" style="border-color: var(--color-border); box-shadow: var(--elevation-1)">
  <header>
    <h3 id="project-title" data-text="heading-lg" style="font-family: var(--font-family-sans)">{title}</h3>
  </header>
  <section class="mt-3">
    <h3 data-text="ui-label">Problema</h3>
    <p class="mt-1" data-text="body-muted">{problem}</p>
  </section>
  <section class="mt-3">
    <h3 data-text="ui-label">Decisão técnica</h3>
    <p class="mt-1" data-text="body-muted">{decision}</p>
  </section>
  <section class="mt-3" aria-live="polite">
    <h3 data-text="ui-label">Resultado mensurável</h3>
    <p class="mt-1" data-text="ui-label">{metricLabel}</p>
    <div class="mt-1" aria-label="métrica" style="display:flex; align-items:center; gap: var(--space-2)">
      <strong data-text="heading-2xl" style="color: var(--success)">{metricValue}</strong>
      {metricContext && <span data-text="ui-helper">{metricContext}</span>}
    </div>
    {impact && <p class="mt-1" data-text="body-muted">{impact}</p>}
  </section>
  {codeSnippet && (
    <details class="mt-3">
      <summary data-text="ui-label" style="cursor:pointer">Ver snippet</summary>
      <pre class="mt-1 p-3 rounded-sm" style="background: var(--color-muted); overflow:auto"><code>{codeSnippet}</code></pre>
    </details>
  )}
  {docHref && (
    <div class="mt-3">
      <Button as="a" href={docHref} variant="secondary">Ver Documentação</Button>
    </div>
  )}
</article>
