---
interface Props {
  type?: 'status' | 'metric';
  tone?: 'info' | 'success' | 'danger';
}
const { type = 'status', tone = 'info' } = Astro.props as Props;
let bg = 'var(--surface-2)';
let fg = 'var(--ink-1)';
if (tone === 'success') { bg = 'var(--success)'; fg = 'var(--ink-1)'; }
else if (tone === 'danger') { bg = 'var(--danger)'; fg = 'var(--danger-ink)'; }
const metricStyle = type === 'metric'
  ? `border-style: solid; border-color: var(--color-border); border-width: var(--border-width-1); background: var(--surface-1); color: var(--ink-1)`
  : `background: ${bg}; color: ${fg}`;
---
<span data-intent="badge" data-state={type} data-tone={tone} style={`display:inline-flex; align-items:center; gap: var(--space-2); padding: var(--space-1) var(--space-2); border-radius: var(--radius-sm); ${metricStyle}`}>
  <slot />
  <style>
    span[data-intent="badge"] { box-shadow: var(--elevation-1); }
    span[data-intent="badge"][data-state="status"] { border: var(--border-width-1) solid var(--color-border); }
    span[data-intent="badge"][data-state="status"][data-tone="success"] { color: var(--ink-1) !important; background: var(--success) !important; }
  </style>
</span>
