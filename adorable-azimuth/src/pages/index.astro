---
import "../styles/global.css";
 
import BaseLayout from "../components/BaseLayout.astro";
import Hero from "../components/Hero.astro";
import Header from "../components/Header.astro";
import Footer from "../components/Footer.astro";
import { profile } from "../data/profile";
import { featuredProjects } from "../data/projects";
---
<BaseLayout
  title={`${profile.fullName} — Portfólio`}
  description={`${profile.roleLine}. ${profile.tagline}`}
>
  <Fragment slot="nav"><Header /></Fragment>
  <div class="nl-page">
    <div id="top"></div>
    <Hero
      title={`${profile.fullName}\n${profile.roleLine}`}
      subtitlePrefix="Construo produtos web e mobile com foco em "
      subtitleMorphWords={["performance.", "UX.", "engenharia pragmática."]}
      ctaLabel={profile.email}
      ctaHref={`mailto:${profile.email}`}
      ctaSecondaryLabel="Ver projetos"
      ctaSecondaryHref="#projects"
      microcopy="Projetos selecionados com foco em performance, UX e entrega."
      scrollHref="#projects"
    />
    <div class="nl-divider"></div>
    <section id="projects" class="nl-section" aria-labelledby="projects-title">
      <div class="nl-section-inner">
        <h2 id="projects-title" class="nl-section-title" data-cell>Projetos</h2>
        <div class="nl-project-grid">
          {featuredProjects.map((p, idx) => (
            <a
              class={`nl-project-card${idx === 0 ? ' nl-project-card--featured' : ''}`}
              href={p.href}
              aria-label={`${p.name} (${p.year})`}
              data-cell
            >
              <div class="nl-project-image-wrap">
                <img
                  class="nl-project-image"
                  src={p.image.src}
                  alt={p.image.alt}
                  width={p.image.width}
                  height={p.image.height}
                  loading={idx === 0 ? 'eager' : 'lazy'}
                  decoding="async"
                />
              </div>
              <div class="nl-project-meta">
                <div class="nl-project-meta-top">
                  <div class="nl-project-meta-title">
                    <span class="nl-project-name">{p.name}</span>
                    <span class="nl-badge" data-variant="secondary" data-ladder={p.ladder}>{p.ladder}</span>
                  </div>
                  <span class="nl-project-year">{p.year}</span>
                </div>
                <div class="nl-project-impact">{p.impactLine}</div>
                <div class="nl-project-sub">
                  <span class="nl-project-role">{p.role}</span>
                  <span class="nl-project-metric">
                    <span class="nl-project-metric-label">{p.metric.label}</span>
                    <span class="nl-project-metric-value">{p.metric.value}</span>
                  </span>
                </div>
                <span class="nl-project-cta">Ver case →</span>
              </div>
            </a>
          ))}
        </div>
      </div>
    </section>
    <div class="nl-divider"></div>
    <section id="about" class="nl-section" aria-labelledby="about-title">
      <div class="nl-section-inner">
        <h2 id="about-title" class="nl-section-title" data-cell>Sobre</h2>
        <p class="nl-body" data-cell>
          Trabalho com front-end, back-end e mobile, com prioridade em clareza de arquitetura, acessibilidade e métricas de produto.
          Já atuei em projetos privados em produção e em iniciativas open-source, sempre buscando reduzir fricção e aumentar previsibilidade
          de entrega.
        </p>
        <p class="nl-body" data-cell style="margin-top: 16px">
          Tecnologias que uso com frequência: Astro/React, TypeScript, Flutter e stacks de API com foco em consistência e observabilidade.
        </p>
      </div>
    </section>
    <div class="nl-divider"></div>
    <section id="contact" class="nl-section" aria-labelledby="contact-title">
      <div class="nl-section-inner">
        <h2 id="contact-title" class="nl-section-title" data-cell>Contato</h2>
        <p class="nl-body" data-cell>Se você tem um projeto e quer conversar sobre escopo, riscos e próximos passos, me chame.</p>
        <div class="nl-hero-actions" style="margin-top: 32px" data-cell>
          <a class="nl-btn" href={`mailto:${profile.email}`}>Email</a>
          <a class="nl-btn" href={profile.links.whatsapp} target="_blank" rel="noopener noreferrer">WhatsApp</a>
          <a class="nl-btn" href={profile.links.linkedin} target="_blank" rel="noopener noreferrer">LinkedIn</a>
        </div>
      </div>
    </section>
  </div>
  <Fragment slot="footer"><Footer /></Fragment>
</BaseLayout>
