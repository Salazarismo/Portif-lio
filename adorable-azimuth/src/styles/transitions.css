/* Page transitions using View Transitions API with CSS fallback */
@keyframes fadeSlideInLeft {
  from { opacity: 0; transform: translateX(8px); }
  to { opacity: 1; transform: translateX(0); }
}
@keyframes fadeSlideOutRight {
  from { opacity: 1; transform: translateX(0); }
  to { opacity: 0; transform: translateX(-8px); }
}
@keyframes fadeSlideInRight {
  from { opacity: 0; transform: translateX(-8px); }
  to { opacity: 1; transform: translateX(0); }
}
@keyframes fadeSlideOutLeft {
  from { opacity: 1; transform: translateX(0); }
  to { opacity: 0; transform: translateX(8px); }
}

/* Default fade */
::view-transition-old(root),
::view-transition-new(root) {
  animation-duration: 300ms;
  animation-timing-function: var(--ease-standard);
}

/* Direction-aware slide using a class on html */
html.nav-forward::view-transition-old(root) { animation-name: fadeSlideOutLeft; }
html.nav-forward::view-transition-new(root) { animation-name: fadeSlideInRight; }

html.nav-back::view-transition-old(root) { animation-name: fadeSlideOutRight; }
html.nav-back::view-transition-new(root) { animation-name: fadeSlideInLeft; }

/* Hash scroll vertical slide hint */
@keyframes fadeSlideInUp {
  from { opacity: 0; transform: translateY(8px); }
  to { opacity: 1; transform: translateY(0); }
}
@keyframes fadeSlideOutDown {
  from { opacity: 1; transform: translateY(0); }
  to { opacity: 0; transform: translateY(-8px); }
}
html.hash-scroll::view-transition-old(root) { animation-name: fadeSlideOutDown; }
html.hash-scroll::view-transition-new(root) { animation-name: fadeSlideInUp; }

/* Fallback: class-based transitions if View Transitions not supported */
.page-transition-enter, .page-transition-leave {
  transition: opacity 300ms var(--ease-standard), transform 300ms var(--ease-standard);
}
.page-transition-enter { opacity: 0; transform: translateY(8px); }
.page-transition-enter-active { opacity: 1; transform: translateY(0); }
.page-transition-leave { opacity: 1; transform: translateY(0); }
.page-transition-leave-active { opacity: 0; transform: translateY(-8px); }

@media (prefers-reduced-motion: reduce) {
  ::view-transition-old(root),
  ::view-transition-new(root),
  .page-transition-enter,
  .page-transition-leave {
    animation: none !important;
    transition: none !important;
    transform: none !important;
  }
}
